# æç¤ºåŠŸèƒ½ä½¿ç”¨ç¤ºä¾‹

WaveForge MCP æä¾›äº†å¼ºå¤§çš„ä¸‰å±‚çº§æç¤ºç³»ç»Ÿï¼Œæ”¯æŒåœ¨ä»»åŠ¡ã€è®¡åˆ’å’Œæ­¥éª¤ä¸‰ä¸ªå±‚çº§æ·»åŠ æç¤ºä¿¡æ¯ï¼Œå®ç°å¤šAgentååŒå·¥ä½œæ—¶çš„æ™ºèƒ½æŒ‡å¯¼ã€‚

## ğŸ¯ æç¤ºç³»ç»Ÿæ¦‚è¿°

### ä¸‰ä¸ªå±‚çº§

1. **ä»»åŠ¡çº§æç¤º (Task-level Hints)**: é€‚ç”¨äºæ•´ä¸ªä»»åŠ¡çš„é€šç”¨æŒ‡å¯¼
2. **è®¡åˆ’çº§æç¤º (Plan-level Hints)**: é€‚ç”¨äºç‰¹å®šè®¡åˆ’çš„ä¸“é¡¹æŒ‡å¯¼
3. **æ­¥éª¤çº§æç¤º (Step-level Hints)**: é€‚ç”¨äºå…·ä½“æ­¥éª¤çš„ç²¾ç¡®æŒ‡å¯¼

### ä¸Šä¸‹æ–‡ä¼ é€’

- æ‰§è¡ŒAgentåœ¨æ“ä½œæ—¶ä¼šè‡ªåŠ¨æ”¶åˆ°ç›¸å…³å±‚çº§çš„æ‰€æœ‰æç¤º
- è®¡åˆ’çº§æ“ä½œï¼šè¿”å›ä»»åŠ¡çº§ + è®¡åˆ’çº§æç¤º
- æ­¥éª¤çº§æ“ä½œï¼šè¿”å›ä»»åŠ¡çº§ + è®¡åˆ’çº§ + æ­¥éª¤çº§æç¤º

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### 1. ä»»åŠ¡çº§æç¤ºç®¡ç†

```bash
# æ·»åŠ ä»»åŠ¡çº§æç¤º
{
  "tool": "current_task_modify",
  "params": {
    "field": "hints",
    "content": [
      "æ³¨æ„ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§",
      "éµå¾ªé¡¹ç›®çš„ç¼–ç è§„èŒƒ",
      "åŠæ—¶æ›´æ–°ç›¸å…³æ–‡æ¡£",
      "ç¡®ä¿æµ‹è¯•è¦†ç›–ç‡è¾¾åˆ°80%ä»¥ä¸Š"
    ],
    "reason": "æ·»åŠ é¡¹ç›®å¼€å‘çš„é€šç”¨æŒ‡å¯¼åŸåˆ™",
    "change_type": "user_request"
  }
}
```

### 2. è®¡åˆ’çº§æç¤ºç®¡ç†

```bash
# ä¸ºè®¾è®¡é˜¶æ®µæ·»åŠ ä¸“é¡¹æç¤º
{
  "tool": "current_task_modify",
  "params": {
    "field": "hints",
    "content": [
      "é‡‡ç”¨SOLIDè®¾è®¡åŸåˆ™",
      "è€ƒè™‘ç³»ç»Ÿçš„æ‰©å±•æ€§å’Œå¯é…ç½®æ€§",
      "è®¾è®¡æ—¶è¦è€ƒè™‘æ€§èƒ½ä¼˜åŒ–",
      "ç¡®ä¿æ¥å£è®¾è®¡çš„å‘åå…¼å®¹æ€§"
    ],
    "reason": "ä¸ºè®¾è®¡é˜¶æ®µæ·»åŠ æ¶æ„æŒ‡å¯¼",
    "change_type": "user_request",
    "plan_id": "plan-design-phase"
  }
}

# ä¸ºå¼€å‘é˜¶æ®µæ·»åŠ ä¸åŒçš„æç¤º
{
  "tool": "current_task_modify",
  "params": {
    "field": "hints",
    "content": [
      "ä¼˜å…ˆå®ç°æ ¸å¿ƒåŠŸèƒ½",
      "æ³¨æ„é”™è¯¯å¤„ç†å’Œè¾¹ç•Œæ¡ä»¶",
      "ç¼–å†™å•å…ƒæµ‹è¯•éªŒè¯åŠŸèƒ½",
      "åŠæ—¶æäº¤ä»£ç å¹¶å†™å¥½commitä¿¡æ¯"
    ],
    "reason": "ä¸ºå¼€å‘é˜¶æ®µæ·»åŠ å®ç°æŒ‡å¯¼",
    "change_type": "user_request",
    "plan_id": "plan-development-phase"
  }
}
```

### 3. æ­¥éª¤çº§æç¤ºç®¡ç†

```bash
# ä¸ºéœ€æ±‚åˆ†ææ­¥éª¤æ·»åŠ å…·ä½“æç¤º
{
  "tool": "current_task_modify",
  "params": {
    "field": "hints",
    "content": [
      "ä»”ç»†åˆ†æç”¨æˆ·éœ€æ±‚ï¼Œç¡®ä¿ç†è§£å‡†ç¡®",
      "è¯†åˆ«åŠŸèƒ½æ€§å’ŒéåŠŸèƒ½æ€§éœ€æ±‚",
      "ä¸äº§å“ç»ç†ç¡®è®¤éœ€æ±‚ç»†èŠ‚",
      "è€ƒè™‘éœ€æ±‚çš„ä¼˜å…ˆçº§å’Œä¾èµ–å…³ç³»"
    ],
    "reason": "ä¸ºéœ€æ±‚åˆ†ææ­¥éª¤æ·»åŠ è¯¦ç»†æŒ‡å¯¼",
    "change_type": "user_request",
    "plan_id": "plan-design-phase",
    "step_id": "step-requirement-analysis"
  }
}

# ä¸ºä»£ç å®ç°æ­¥éª¤æ·»åŠ æŠ€æœ¯æç¤º
{
  "tool": "current_task_modify",
  "params": {
    "field": "hints",
    "content": [
      "ä½¿ç”¨TypeScriptä¸¥æ ¼æ¨¡å¼",
      "å®ç°é€‚å½“çš„é”™è¯¯å¤„ç†æœºåˆ¶",
      "æ·»åŠ JSDocæ³¨é‡Šè¯´æ˜",
      "è€ƒè™‘ä»£ç çš„å¯æµ‹è¯•æ€§"
    ],
    "reason": "ä¸ºä»£ç å®ç°æ­¥éª¤æ·»åŠ æŠ€æœ¯æŒ‡å¯¼",
    "change_type": "user_request",
    "plan_id": "plan-development-phase",
    "step_id": "step-code-implementation"
  }
}
```

## ğŸ¤ å¤šAgentååŒåœºæ™¯

### åœºæ™¯1ï¼šé¡¹ç›®ç»ç† + å¼€å‘Agent

```bash
# é¡¹ç›®ç»ç†æ·»åŠ ä»»åŠ¡çº§æç¤º
{
  "field": "hints",
  "content": ["é¡¹ç›®æˆªæ­¢æ—¥æœŸæ˜¯ä¸‹å‘¨äº”ï¼Œè¯·åˆç†å®‰æ’å¼€å‘è¿›åº¦"],
  "reason": "é¡¹ç›®ç»ç†æ·»åŠ è¿›åº¦æé†’",
  "change_type": "user_request"
}

# æ¶æ„å¸ˆä¸ºè®¾è®¡è®¡åˆ’æ·»åŠ æç¤º
{
  "field": "hints",
  "content": ["é‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œæ³¨æ„æœåŠ¡é—´çš„è§£è€¦"],
  "reason": "æ¶æ„å¸ˆæ·»åŠ è®¾è®¡æŒ‡å¯¼",
  "change_type": "user_request",
  "plan_id": "plan-architecture-design"
}

# å¼€å‘Agentæ‰§è¡Œæ­¥éª¤æ—¶ä¼šæ”¶åˆ°æ‰€æœ‰ç›¸å…³æç¤º
# current_task_update å“åº”ç¤ºä¾‹ï¼š
{
  "success": true,
  "hints": {
    "task": ["é¡¹ç›®æˆªæ­¢æ—¥æœŸæ˜¯ä¸‹å‘¨äº”ï¼Œè¯·åˆç†å®‰æ’å¼€å‘è¿›åº¦"],
    "plan": ["é‡‡ç”¨å¾®æœåŠ¡æ¶æ„ï¼Œæ³¨æ„æœåŠ¡é—´çš„è§£è€¦"],
    "step": []
  }
}
```

### åœºæ™¯2ï¼šCode Review + å¼€å‘æŒ‡å¯¼

```bash
# Code Revieweræ·»åŠ æ­¥éª¤çº§æç¤º
{
  "field": "hints",
  "content": [
    "è¿™ä¸ªå‡½æ•°çš„å¤æ‚åº¦è¿‡é«˜ï¼Œå»ºè®®æ‹†åˆ†",
    "ç¼ºå°‘è¾“å…¥å‚æ•°çš„éªŒè¯é€»è¾‘",
    "å»ºè®®æ·»åŠ æ›´å¤šçš„å•å…ƒæµ‹è¯•ç”¨ä¾‹"
  ],
  "reason": "Code Reviewåé¦ˆ",
  "change_type": "user_request",
  "plan_id": "plan-implementation",
  "step_id": "step-user-service"
}
```

## ğŸ”„ æç¤ºçš„åŠ¨æ€æ›´æ–°

### æ¸…ç©ºæç¤º

```bash
# æ¸…ç©ºä»»åŠ¡çº§æç¤º
{
  "field": "hints",
  "content": [],
  "reason": "æ¸…ç©ºè¿‡æœŸçš„ä»»åŠ¡æç¤º",
  "change_type": "user_request"
}
```

### æ›´æ–°æç¤º

```bash
# æ›´æ–°è®¡åˆ’çº§æç¤º
{
  "field": "hints",
  "content": [
    "æ›´æ–°åçš„è®¾è®¡æŒ‡å¯¼1",
    "æ›´æ–°åçš„è®¾è®¡æŒ‡å¯¼2"
  ],
  "reason": "æ ¹æ®æœ€æ–°éœ€æ±‚æ›´æ–°è®¾è®¡æŒ‡å¯¼",
  "change_type": "plan_adjustment",
  "plan_id": "plan-design-phase"
}
```

## ğŸ“Š æç¤ºçš„è‡ªåŠ¨ä¼ é€’

### è®¡åˆ’çº§æ“ä½œ

å½“Agentæ‰§è¡Œè®¡åˆ’çº§æ“ä½œæ—¶ï¼š

```bash
# è¾“å…¥
{
  "tool": "current_task_update",
  "params": {
    "update_type": "plan",
    "plan_id": "plan-design-phase",
    "status": "in_progress"
  }
}

# è¾“å‡ºï¼ˆè‡ªåŠ¨åŒ…å«ç›¸å…³æç¤ºï¼‰
{
  "success": true,
  "current_plan_id": "plan-design-phase",
  "hints": {
    "task": ["æ³¨æ„ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§", "éµå¾ªé¡¹ç›®çš„ç¼–ç è§„èŒƒ"],
    "plan": ["é‡‡ç”¨SOLIDè®¾è®¡åŸåˆ™", "è€ƒè™‘ç³»ç»Ÿçš„æ‰©å±•æ€§"],
    "step": []
  }
}
```

### æ­¥éª¤çº§æ“ä½œ

å½“Agentæ‰§è¡Œæ­¥éª¤çº§æ“ä½œæ—¶ï¼š

```bash
# è¾“å…¥
{
  "tool": "current_task_update",
  "params": {
    "update_type": "step",
    "step_id": "step-requirement-analysis",
    "status": "completed",
    "notes": "éœ€æ±‚åˆ†æå®Œæˆ"
  }
}

# è¾“å‡ºï¼ˆåŒ…å«æ‰€æœ‰å±‚çº§çš„ç›¸å…³æç¤ºï¼‰
{
  "success": true,
  "hints": {
    "task": ["æ³¨æ„ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§", "éµå¾ªé¡¹ç›®çš„ç¼–ç è§„èŒƒ"],
    "plan": ["é‡‡ç”¨SOLIDè®¾è®¡åŸåˆ™", "è€ƒè™‘ç³»ç»Ÿçš„æ‰©å±•æ€§"],
    "step": ["ä»”ç»†åˆ†æç”¨æˆ·éœ€æ±‚ï¼Œç¡®ä¿ç†è§£å‡†ç¡®", "è¯†åˆ«åŠŸèƒ½æ€§å’ŒéåŠŸèƒ½æ€§éœ€æ±‚"]
  }
}
```

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. æç¤ºå†…å®¹å»ºè®®

- **ä»»åŠ¡çº§**: é€šç”¨çš„å¼€å‘åŸåˆ™ã€é¡¹ç›®çº¦æŸã€è´¨é‡æ ‡å‡†
- **è®¡åˆ’çº§**: ç‰¹å®šé˜¶æ®µçš„æ–¹æ³•è®ºã€æŠ€æœ¯é€‰å‹ã€æ³¨æ„äº‹é¡¹
- **æ­¥éª¤çº§**: å…·ä½“çš„æ“ä½œæŒ‡å¯¼ã€æŠ€æœ¯ç»†èŠ‚ã€æ£€æŸ¥æ¸…å•

### 2. æç¤ºç®¡ç†å»ºè®®

- ä¿æŒæç¤ºå†…å®¹ç®€æ´æ˜ç¡®
- åŠæ—¶æ›´æ–°è¿‡æœŸçš„æç¤ºä¿¡æ¯
- é¿å…æç¤ºå†…å®¹è¿‡å¤šé€ æˆä¿¡æ¯è¿‡è½½
- æ ¹æ®é¡¹ç›®è¿›å±•åŠ¨æ€è°ƒæ•´æç¤ºå†…å®¹

### 3. å¤šAgentåä½œå»ºè®®

- ä¸åŒè§’è‰²çš„Agentè´Ÿè´£ä¸åŒå±‚çº§çš„æç¤º
- é¡¹ç›®ç»ç†ï¼šä»»åŠ¡çº§æç¤ºï¼ˆè¿›åº¦ã€è´¨é‡ã€èµ„æºï¼‰
- æ¶æ„å¸ˆï¼šè®¡åˆ’çº§æç¤ºï¼ˆè®¾è®¡ã€æŠ€æœ¯é€‰å‹ï¼‰
- å¼€å‘è€…ï¼šæ­¥éª¤çº§æç¤ºï¼ˆå®ç°ç»†èŠ‚ã€æŠ€æœ¯è¦ç‚¹ï¼‰

### 4. æç¤ºæ—¶æœºå»ºè®®

- **é¡¹ç›®å¯åŠ¨æ—¶**: æ·»åŠ ä»»åŠ¡çº§çš„åŸºç¡€æç¤º
- **é˜¶æ®µåˆ‡æ¢æ—¶**: æ›´æ–°è®¡åˆ’çº§çš„ä¸“é¡¹æç¤º
- **é‡åˆ°é—®é¢˜æ—¶**: æ·»åŠ æ­¥éª¤çº§çš„è§£å†³æŒ‡å¯¼
- **Code Reviewå**: æ ¹æ®åé¦ˆæ›´æ–°ç›¸å…³æç¤º

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æç¤ºæ²¡æœ‰æ˜¾ç¤º**
   - æ£€æŸ¥æç¤ºæ˜¯å¦æ·»åŠ åˆ°æ­£ç¡®çš„å±‚çº§
   - ç¡®è®¤å½“å‰æ“ä½œçš„ä¸Šä¸‹æ–‡æ˜¯å¦åŒ¹é…

2. **æç¤ºå†…å®¹è¿‡å¤š**
   - å®šæœŸæ¸…ç†è¿‡æœŸçš„æç¤º
   - å°†é€šç”¨æç¤ºä¸Šç§»åˆ°æ›´é«˜å±‚çº§

3. **å¤šAgentå†²çª**
   - å»ºç«‹æç¤ºç®¡ç†çš„è´£ä»»åˆ†å·¥
   - ä½¿ç”¨æ˜ç¡®çš„æç¤ºæ›´æ–°åŸå› è¯´æ˜

é€šè¿‡åˆç†ä½¿ç”¨æç¤ºç³»ç»Ÿï¼Œå¯ä»¥å¤§å¤§æå‡å¤šAgentååŒå¼€å‘çš„æ•ˆç‡å’Œè´¨é‡ï¼
